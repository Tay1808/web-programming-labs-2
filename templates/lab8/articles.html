{% extends "base.html" %}
{% block title %}Ваши статьи{% endblock %}
{% block main %}
<h1>Ваши статьи</h1>
<form action="/lab8/search" method="get" class="search-form">
    <input type="text" name="query" placeholder="Поиск по статьям" required>
    <button type="submit" class="button-link reset-button">Искать</button>
    <a href="/lab8/articles" class="button-link reset-button">Сбросить</a>
</form>


{% if articles %}
    <ul class="article-list">
        {% for article in articles %}
            <li class="article-item">
                <h3>{{ article.title }}</h3>
                <p>{{ article.article_text }}</p>

                <a href="/lab8/edit/{{ article.id }}" class="button-link">Редактировать</a>

            
                <form action="/lab8/delete/{{ article.id }}" method="post" style="display:inline;" onsubmit="return confirm('Вы уверены, что хотите удалить эту статью?');">
                    <button type="submit" class="delete-button">Удалить</button>
                </form>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p class="no-articles">У вас ещё нет созданных статей.</p>
{% endif %}
<div class="navigation-buttons">
    <a href="/lab8/create" class="button-link">Создать статью</a>
    <a href="/lab8/" class="button-link">Вернуться назад</a>
</div>
{% endblock %}